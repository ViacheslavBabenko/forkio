"use strict";

var burgerIcon = document.querySelector(".burger-icon"),
  bugerIconLines = document.querySelectorAll(".burger-icon__line"),
  burgerMenuLinks = document.querySelectorAll(".header-page__menu--item"),
  menu = document.querySelector(".header-page__menu"),
  fiolRect = document.querySelector(".fiol-rectangle");
function changeBurgerIcon() {
  bugerIconLines.forEach(function (e) {
    e.classList.toggle("burger-icon__line--active");
  });
}
burgerIcon.addEventListener("click", function () {
  changeBurgerIcon(), menu.classList.toggle("header-page__menu--active");
}), burgerMenuLinks.forEach(function (e) {
  return e.addEventListener("mouseenter", function (e) {
    e.target.append(fiolRect), fiolRect.classList.add("fiol-rectangle--active");
  });
}), menu.addEventListener("mouseleave", function () {
  fiolRect.remove();
}), document.addEventListener("click", function (e) {
  var n = e.target,
    r = n == menu || menu.contains(n),
    c = n == burgerIcon || n.closest(".burger-icon"),
    t = menu.classList.contains("header-page__menu--active");
  r || c || !t || (menu.classList.toggle("header-page__menu--active"), changeBurgerIcon());
}), window.addEventListener("resize", function (e) {
  e.target.screen.availWidth > 480 && (menu.classList.remove("header-page__menu--active"), bugerIconLines.forEach(function (e) {
    e.classList.remove("burger-icon__line--active");
  }));
});